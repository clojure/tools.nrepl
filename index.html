<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>clojure.tools.nrepl - Network REPL 0.2.5 API documentation</title>
    <link href="static/favicon.png" rel="icon" />
    <link href="static/favicon.png" rel="shortcut icon" />
    <link media="all" type="text/css" href="static/clojure.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/wiki.css" rel="stylesheet" />
    <link media="all" type="text/css" href="static/internal.css" rel="stylesheet" />
    <style>.menuWrapper{height: 36px;}</style>
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a id="Logo" href="index.html"><img alt="Clojure" height="100" width="100" src="static/clojure-icon.gif" /></a>
	<h1><a title="page header title" id="page-header" href="index.html">tools.nrepl API Reference</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <span class="toc-header"><span id="project-name">Network REPL</span> <span id="version">0.2.5</span> API</span><br />
    <ul>
      <li><a class="wiki_link" href="index.html">Overview</a></li>
      <li><a class="wiki_link" href="api-index.html">API Index</a></li>
    </ul>
    
    
    <a href="http://clojure.org" class="wiki_link">Clojure Home</a>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div id="content_view" class="wiki wikiPage">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div style="margin-left: 1em;" class="toc-section">
    <a href="#toc0" style="margin-top: 3px;">Overview</a>
    
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#" style="margin-top: 3px;"></a>
    
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#" style="margin-top: 3px;"></a>
    
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#var-section" style="margin-top: 3px;">Vars and Functions</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/client">client</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/client-session">client-session</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/code">code</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/code*">code*</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/combine-responses">combine-responses</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/connect">connect</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/message">message</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/new-session">new-session</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/read-response-value">read-response-value</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/response-seq">response-seq</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/response-values">response-values</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/url-connect">url-connect</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl/version">version</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.ack" style="margin-top: 3px;">clojure.tools.nrepl.ack</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.ack/wait-for-ack">wait-for-ack</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.bencode" style="margin-top: 3px;">clojure.tools.nrepl.bencode</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.bencode/read-bencode">read-bencode</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.bencode/read-netstring">read-netstring</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.bencode/write-bencode">write-bencode</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.bencode/write-netstring">write-netstring</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.cmdline" style="margin-top: 3px;">clojure.tools.nrepl.cmdline</a>
    
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.helpers" style="margin-top: 3px;">clojure.tools.nrepl.helpers</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.helpers/load-file-command">load-file-command</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.middleware" style="margin-top: 3px;">clojure.tools.nrepl.middleware</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.middleware/set-descriptor!">set-descriptor!</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.middleware.interruptible-eval" style="margin-top: 3px;">clojure.tools.nrepl.middleware.interruptible-eval</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.middleware.interruptible-eval/*eval*">*eval*</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.middleware.interruptible-eval/*msg*">*msg*</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.middleware.interruptible-eval/evaluate">evaluate</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.middleware.interruptible-eval/interruptible-eval">interruptible-eval</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.middleware.load-file" style="margin-top: 3px;">clojure.tools.nrepl.middleware.load-file</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.middleware.load-file/load-file-code">load-file-code</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.middleware.load-file/wrap-load-file">wrap-load-file</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.middleware.pr-values" style="margin-top: 3px;">clojure.tools.nrepl.middleware.pr-values</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.middleware.pr-values/pr-values">pr-values</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.middleware.session" style="margin-top: 3px;">clojure.tools.nrepl.middleware.session</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.middleware.session/add-stdin">add-stdin</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.middleware.session/session">session</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.misc" style="margin-top: 3px;">clojure.tools.nrepl.misc</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.misc/response-for">response-for</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.misc/returning">returning</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.misc/uuid">uuid</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.server" style="margin-top: 3px;">clojure.tools.nrepl.server</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.server/Server">Server</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.server/-&gt;Server">-&gt;Server</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.server/default-handler">default-handler</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.server/handle">handle</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.server/map-&gt;Server">map-&gt;Server</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.server/start-server">start-server</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.server/stop-server">stop-server</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.server/unknown-op">unknown-op</a>
      
    </div>
  </div><div style="margin-left: 1em;" class="toc-section">
    <a href="#clojure.tools.nrepl.transport" style="margin-top: 3px;">clojure.tools.nrepl.transport</a>
    <div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.transport/Transport">Transport</a>
      <div style="margin-left: 1em;" class="toc-subentry">
        <a class="toc-subentry-anchor" href="#clojure.tools.nrepl.transport/recv">recv</a>
      </div><div style="margin-left: 1em;" class="toc-subentry">
        <a class="toc-subentry-anchor" href="#clojure.tools.nrepl.transport/send">send</a>
      </div>
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.transport/FnTransport">FnTransport</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.transport/QueueTransport">QueueTransport</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.transport/-&gt;FnTransport">-&gt;FnTransport</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.transport/-&gt;QueueTransport">-&gt;QueueTransport</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.transport/bencode">bencode</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.transport/fn-transport">fn-transport</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.transport/piped-transports">piped-transports</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.transport/tty">tty</a>
      
    </div><div style="margin-left: 1em;" class="toc-entry">
      <a class="toc-entry-anchor" href="#clojure.tools.nrepl.transport/tty-greeting">tty-greeting</a>
      
    </div>
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="clojure.tools.nrepl">clojure.tools.nrepl</span>
  - <span id="header-project">Network REPL</span> <span id="header-version">0.2.5</span><span id="header-status-block"> (<span id="header-status">in development</span>)</span>
  </h1>
<span id="author-line">by <span id="author-name">Chas Emerick</span><br /></span>
<br />Full namespace name: <span id="long-name">clojure.tools.nrepl</span>
<p></p>
<h2>Overview</h2>
<div id="home-page">Project home page is <a href="http://github.com/clojure/tools.nrepl/">http://github.com/clojure/tools.nrepl/</a></div>
<pre id="namespace-docstr">High level nREPL client support.</pre>


<br />



<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/client">client</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (client transport response-timeout)
</pre>
    <pre id="var-docstr">Returns a fn of zero and one argument, both of which return the current head of a single
response-seq being read off of the given client-side transport.  The one-arg arity will
send a given message on the transport before returning the seq.

Most REPL interactions are best performed via `message` and `client-session` on top of
a client fn returned from this fn.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L29" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/client-session">client-session</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (client-session client &amp; {:keys [session clone]})
</pre>
    <pre id="var-docstr">Returns a function of one argument.  Accepts a message that is sent via the
client provided with a fixed :session id added to it.  Returns the
head of the client's response seq, filtered to include only
messages related to the :session id that will terminate when the session is
closed.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L105" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/code">code</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (code &amp; body)
</pre>
    <pre id="var-docstr">Expands into a string consisting of the macro's body's forms
(literally, no interpolation/quasiquoting of locals or other
references), suitable for use in an :eval message, e.g.:

{:op :eval, :code (code (+ 1 1) (slurp "foo.txt"))}</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L143" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/code*">code*</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (code* &amp; expressions)
</pre>
    <pre id="var-docstr">Returns a single string containing the pr-str'd representations
of the given expressions.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L137" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/combine-responses">combine-responses</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (combine-responses responses)
</pre>
    <pre id="var-docstr">Combines the provided seq of response messages into a single response map.

Certain message slots are combined in special ways:

  - only the last :ns is retained
  - :value is accumulated into an ordered collection
  - :status and :session are accumulated into a set
  - string values (associated with e.g. :out and :err) are concatenated</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L115" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/connect">connect</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (connect &amp; {:keys [port host transport-fn], :or {transport-fn bencode, host localhost}})
</pre>
    <pre id="var-docstr">Connects to a socket-based REPL at the given host (defaults to localhost) and port,
returning the Transport (by default clojure.tools.nrepl.transport/bencode)
for that connection.

Transports are most easily used with `client`, `client-session`, and
`message`, depending on the semantics desired.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L174" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/message">message</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (message client {:keys [id], :as msg, :or {id (uuid)}})
</pre>
    <pre id="var-docstr">Sends a message via [client] with a fixed message :id added to it.
Returns the head of the client's response seq, filtered to include only
messages related to the message :id that will terminate upon receipt of a
"done" :status.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L86" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/new-session">new-session</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (new-session client &amp; {:keys [clone]})
</pre>
    <pre id="var-docstr">Provokes the creation and retention of a new session, optionally as a clone
of an existing retained session, the id of which must be provided as a :clone
kwarg.  Returns the new session's id.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L95" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/read-response-value">read-response-value</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (read-response-value {:keys [value], :as msg})
</pre>
    <pre id="var-docstr">Returns the provided response message, replacing its :value string with
the result of (read)ing it.  Returns the message unchanged if the :value
slot is empty or not a string.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L152" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/response-seq">response-seq</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (response-seq transport)
       (response-seq transport timeout)
</pre>
    <pre id="var-docstr">Returns a lazy seq of messages received via the given Transport.
Called with no further arguments, will block waiting for each message.
The seq will end only when the underlying Transport is closed (i.e.
returns nil from `recv`) or if a message takes longer than `timeout`
millis to arrive.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L19" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/response-values">response-values</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (response-values responses)
</pre>
    <pre id="var-docstr">Given a seq of responses (as from response-seq or returned from any function returned
by client or client-session), returns a seq of values read from :value slots found
therein.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L164" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/url-connect">url-connect</h2>
    <span id="var-type">multimethod</span><br />
    <pre id="var-usage">No usage documentation available</pre>
    <pre id="var-docstr">Connects to an nREPL endpoint identified by the given URL/URI.  Valid
examples include:

   nrepl://192.168.0.12:7889
   telnet://localhost:5000
   <a href="http://your-app-name.heroku.com/repl">http://your-app-name.heroku.com/repl</a>

This is a multimethod that dispatches on the scheme of the URI provided
(which can be a string or java.net.URI).  By default, implementations for
nrepl (corresponding to using the default bencode transport) and
telnet (using the clojure.tools.nrepl.transport/tty transport) are
registered.  Alternative implementations may add support for other schemes,
such as HTTP, HTTPS, JMX, existing message queues, etc.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L203" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl/version">version</h2>
    <span id="var-type">var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Current version of nREPL, map of :major, :minor, :incremental, and :qualifier.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/a22aaeec88ed560a728eb7126650a59fcabf8265/src/main/clojure/clojure/tools/nrepl.clj#L237" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.ack">clojure.tools.nrepl.ack</h2>
<pre id="namespace-docstr"></pre>


<br />


<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.ack/wait-for-ack">wait-for-ack</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (wait-for-ack timeout)
</pre>
    <pre id="var-docstr">Waits for a presumably just-launched nREPL server to connect and
deliver its port number.  Returns that number if it's delivered
within `timeout` ms, otherwise nil.  Assumes that `ack`
middleware has been applied to the local nREPL server handler.

Expected usage:

(reset-ack-port!)
(start-server already-running-server-port)
=&gt; (wait-for-ack)
59872 ; the port of the server started via start-server</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/aa3eba4d5f52eb0fd1644c79b978f5ef456fc001/src/main/clojure/clojure/tools/nrepl/ack.clj#L16" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.bencode">clojure.tools.nrepl.bencode</h2>
<pre id="namespace-docstr">A netstring and bencode implementation for Clojure.</pre>


<br />


<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.bencode/read-bencode">read-bencode</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (read-bencode input)
</pre>
    <pre id="var-docstr">Read bencode token from the input stream.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/14d6e683930ba03ef4781cfc5ff6b37e9fbb74cf/src/main/clojure/clojure/tools/nrepl/bencode.clj#L251" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.bencode/read-netstring">read-netstring</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (read-netstring input)
</pre>
    <pre id="var-docstr">Reads a classic netstring from input—an InputStream. Returns the
contained binary data as byte array.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/14d6e683930ba03ef4781cfc5ff6b37e9fbb74cf/src/main/clojure/clojure/tools/nrepl/bencode.clj#L157" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.bencode/write-bencode">write-bencode</h2>
    <span id="var-type">multimethod</span><br />
    <pre id="var-usage">No usage documentation available</pre>
    <pre id="var-docstr">Write the given thing to the output stream. “Thing” means here a
string, map, sequence or integer. Alternatively an ByteArray may
be provided whose contents are written as a bytestring. Similar
the contents of a given InputStream are written as a byte string.
Named things (symbols or keywords) are written in the form
'namespace/name'.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/14d6e683930ba03ef4781cfc5ff6b37e9fbb74cf/src/main/clojure/clojure/tools/nrepl/bencode.clj#L305" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.bencode/write-netstring">write-netstring</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (write-netstring output content)
</pre>
    <pre id="var-docstr">Write the given binary data to the output stream in form of a classic
netstring.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/14d6e683930ba03ef4781cfc5ff6b37e9fbb74cf/src/main/clojure/clojure/tools/nrepl/bencode.clj#L196" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.cmdline">clojure.tools.nrepl.cmdline</h2>
<pre id="namespace-docstr">A proof-of-concept command-line client for nREPL.  Please see
e.g. reply for a proper command-line nREPL client @
<a href="https://github.com/trptcolin/reply/">https://github.com/trptcolin/reply/</a></pre>


<br />



<br />
<h2 id="clojure.tools.nrepl.helpers">clojure.tools.nrepl.helpers</h2>
<pre id="namespace-docstr"></pre>


<br />


<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.helpers/load-file-command">load-file-command</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (load-file-command f)
       (load-file-command f source-root)
       (load-file-command code file-path file-name)
</pre>
    <pre id="var-docstr">(If it is available, sending clojure.tools.nrepl.middleware.load-file
 compatible messages is far preferable.)

Returns a string expression that can be sent to an nREPL session to
load the Clojure code in given local file in the remote REPL's environment,
preserving debug information (e.g. line numbers, etc).

Typical usage: (nrepl-client-fn
                 {:op "eval" :code
                   (load-file-command "/path/to/clojure/file.clj")})

If appropriate, the source path from which the code is being loaded may
be provided as well (suitably trimming the file's path to a relative one
when loaded).

The 3-arg variation of this function expects the full source of the file to be loaded,
the source-root-relative path of the source file, and the name of the file.  e.g.:

  (load-file-command "…code here…" "some/ns/name/file.clj" "file.clj")</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/ac95dc7da973f3d7edea75d0f6f9ce01ee18641d/src/main/clojure/clojure/tools/nrepl/helpers.clj#L14" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.middleware">clojure.tools.nrepl.middleware</h2>
<pre id="namespace-docstr"></pre>


<br />


<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.middleware/set-descriptor!">set-descriptor!</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (set-descriptor! middleware-var descriptor)
</pre>
    <pre id="var-docstr">Sets the given [descriptor] map as the ::descriptor metadata on
the provided [middleware-var], after assoc'ing in the var's
fully-qualified name as the descriptor's "implemented-by" value.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/cb7ce4140e8aa42736a90c59e2a50808a5c93b61/src/main/clojure/clojure/tools/nrepl/middleware.clj#L19" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.middleware.interruptible-eval">clojure.tools.nrepl.middleware.interruptible-eval</h2>
<pre id="namespace-docstr"></pre>


<br />


<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.middleware.interruptible-eval/*eval*">*eval*</h2>
    <span id="var-type">dynamic var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">Function returning the evaluation of its argument.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/f02956dc2975a04a92aa1188865f100b09eeeff0/src/main/clojure/clojure/tools/nrepl/middleware/interruptible_eval.clj#L18" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.middleware.interruptible-eval/*msg*">*msg*</h2>
    <span id="var-type">dynamic var</span><br />
    <pre id="var-usage"></pre>
    <pre id="var-docstr">The message currently being evaluated.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/f02956dc2975a04a92aa1188865f100b09eeeff0/src/main/clojure/clojure/tools/nrepl/middleware/interruptible_eval.clj#L14" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.middleware.interruptible-eval/evaluate">evaluate</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (evaluate bindings {:keys [code ns transport session eval], :as msg})
</pre>
    <pre id="var-docstr">Evaluates some code within the dynamic context defined by a map of `bindings`,
as per `clojure.core/get-thread-bindings`.

Uses `clojure.main/repl` to drive the evaluation of :code in a second
map argument (either a string or a seq of forms to be evaluated), which may
also optionally specify a :ns (resolved via `find-ns`).  The map MUST
contain a Transport implementation in :transport; expression results and errors
will be sent via that Transport.

Returns the dynamic scope that remains after evaluating all expressions
in :code.

It is assumed that `bindings` already contains useful/appropriate entries
for all vars indicated by `clojure.main/with-bindings`.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/f02956dc2975a04a92aa1188865f100b09eeeff0/src/main/clojure/clojure/tools/nrepl/middleware/interruptible_eval.clj#L22" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.middleware.interruptible-eval/interruptible-eval">interruptible-eval</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (interruptible-eval h &amp; {:keys [executor], :or {executor (configure-executor)}})
</pre>
    <pre id="var-docstr">Evaluation middleware that supports interrupts.  Returns a handler that supports
"eval" and "interrupt" :op-erations that delegates to the given handler
otherwise.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/f02956dc2975a04a92aa1188865f100b09eeeff0/src/main/clojure/clojure/tools/nrepl/middleware/interruptible_eval.clj#L162" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.middleware.load-file">clojure.tools.nrepl.middleware.load-file</h2>
<pre id="namespace-docstr"></pre>


<br />


<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.middleware.load-file/load-file-code">load-file-code</h2>
    <span id="var-type">dynamic function</span><br />
    <pre id="var-usage">Usage: (load-file-code file file-path file-name)
</pre>
    <pre id="var-docstr">Given the contents of a file, its _source-path-relative_ path,
and its filename, returns a string of code containing a single
expression that, when evaluated, will load those contents with
appropriate filename references and line numbers in metadata, etc.

Note that because a single expression is produced, very large
file loads will fail due to the JVM method size limitation.
In such cases, see `load-large-file-code'`.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/11e3993746950640cb8173fbcd3b074c53b26ce0/src/main/clojure/clojure/tools/nrepl/middleware/load_file.clj#L49" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.middleware.load-file/wrap-load-file">wrap-load-file</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (wrap-load-file h)
</pre>
    <pre id="var-docstr">Middleware that evaluates a file's contents, as per load-file,
but with all data supplied in the sent message (i.e. safe for use
with remote REPL environments).

This middleware depends on the availability of an :op "eval"
middleware below it (such as interruptible-eval).</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/11e3993746950640cb8173fbcd3b074c53b26ce0/src/main/clojure/clojure/tools/nrepl/middleware/load_file.clj#L67" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.middleware.pr-values">clojure.tools.nrepl.middleware.pr-values</h2>
<pre id="namespace-docstr"></pre>


<br />


<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.middleware.pr-values/pr-values">pr-values</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (pr-values h)
</pre>
    <pre id="var-docstr">Middleware that returns a handler which transforms any :value slots
in messages sent via the request's Transport to strings via `pr`,
delegating all actual message handling to the provided handler.

Requires that results of eval operations are sent in messages in a
:value slot.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/bbc5e02b665356e7dc33fe1d78346f17b3dec452/src/main/clojure/clojure/tools/nrepl/middleware/pr_values.clj#L8" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.middleware.session">clojure.tools.nrepl.middleware.session</h2>
<pre id="namespace-docstr">Support for persistent, cross-connection REPL sessions.</pre>


<br />


<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.middleware.session/add-stdin">add-stdin</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (add-stdin h)
</pre>
    <pre id="var-docstr">stdin middleware.  Returns a handler that supports a "stdin" :op-eration, which
adds content provided in a :stdin slot to the session's *in* Reader.  Delegates to
the given handler for other operations.

Requires the session middleware.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/1c53a172a830f4dadbd7c326c3dccdd160f81f0f/src/main/clojure/clojure/tools/nrepl/middleware/session.clj#L213" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.middleware.session/session">session</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (session h)
</pre>
    <pre id="var-docstr">Session middleware.  Returns a handler which supports these :op-erations:

* "ls-sessions", which results in a response message
  containing a list of the IDs of the currently-retained sessions in a
  :session slot.
* "close", which drops the session indicated by the
  ID in the :session slot.  The response message's :status will include
  :session-closed.
* "clone", which will cause a new session to be retained.  The ID of this
  new session will be returned in a response message in a :new-session
  slot.  The new session's state (dynamic scope, etc) will be a copy of
  the state of the session identified in the :session slot of the request.

Messages indicating other operations are delegated to the given handler,
with the session identified by the :session ID added to the message. If
no :session ID is found, a new session is created (which will only
persist for the duration of the handling of the given message).

Requires the interruptible-eval middleware (specifically, its binding of
*msg* to the currently-evaluated message so that session-specific *out*
and *err* content can be associated with the originating message).</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/1c53a172a830f4dadbd7c326c3dccdd160f81f0f/src/main/clojure/clojure/tools/nrepl/middleware/session.clj#L152" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.misc">clojure.tools.nrepl.misc</h2>
<pre id="namespace-docstr">Misc utilities used in nREPL's implementation (potentially also useful
for anyone extending it).</pre>


<br />


<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.misc/response-for">response-for</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (response-for {:keys [session id]} &amp; response-data)
</pre>
    <pre id="var-docstr">Returns a map containing the :session and :id from the "request" `msg`
as well as all entries specified in `response-data`, which can be one
or more maps (which will be merged), *or* key-value pairs.

(response-for msg :status :done :value "5")
(response-for msg {:status :interrupted})

The :session value in `msg` may be any Clojure reference type (to accommodate
likely implementations of sessions) that has an :id slot in its metadata,
or a string.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/ac95dc7da973f3d7edea75d0f6f9ce01ee18641d/src/main/clojure/clojure/tools/nrepl/misc.clj#L29" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.misc/returning">returning</h2>
    <span id="var-type">macro</span><br />
    <pre id="var-usage">Usage: (returning x &amp; body)
</pre>
    <pre id="var-docstr">Executes `body`, returning `x`.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/ac95dc7da973f3d7edea75d0f6f9ce01ee18641d/src/main/clojure/clojure/tools/nrepl/misc.clj#L19" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.misc/uuid">uuid</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (uuid)
</pre>
    <pre id="var-docstr">Returns a new UUID string.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/ac95dc7da973f3d7edea75d0f6f9ce01ee18641d/src/main/clojure/clojure/tools/nrepl/misc.clj#L24" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.server">clojure.tools.nrepl.server</h2>
<pre id="namespace-docstr">Default server implementations</pre>


<br />

<div id="type-section">
  <p></p>
  <h2>Types</h2>
  <div id="type-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.server/Server">Server</h2>
    <span id="type-type">record</span><br />
    <pre id="type-docstr"></pre>
    Fields: <span id="type-fields">[server-socket port open-transports transport greeting handler]</span><br />
    Protocols: <span id="type-protocols"></span><br />
    Interfaces: <span id="type-interfaces">clojure.lang.IDeref, clojure.lang.IHashEq, clojure.lang.IKeywordLookup, clojure.lang.ILookup, clojure.lang.IObj, clojure.lang.IPersistentMap, java.io.Closeable, java.io.Serializable, java.util.Map</span><br />
  </div>
</div>
<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.server/-&gt;Server">-&gt;Server</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (-&gt;Server server-socket port open-transports transport greeting handler)
</pre>
    <pre id="var-docstr">Positional factory function for class clojure.tools.nrepl.server.Server.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/2a64aef1a9cb3d225ef7881af85b8ccf95652baf/src/main/clojure/clojure/tools/nrepl/server.clj#L101" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.server/default-handler">default-handler</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (default-handler &amp; additional-middlewares)
</pre>
    <pre id="var-docstr">A default handler supporting interruptible evaluation, stdin, sessions, and
readable representations of evaluated expressions via `pr`.

Additional middlewares to mix into the default stack may be provided; these
should all be values (usually vars) that have an nREPL middleware descriptor
in their metadata (see clojure.tools.nrepl.middleware/set-descriptor!).</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/2a64aef1a9cb3d225ef7881af85b8ccf95652baf/src/main/clojure/clojure/tools/nrepl/server.clj#L80" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.server/handle">handle</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (handle handler transport)
</pre>
    <pre id="var-docstr">Handles requests received via [transport] using [handler].
Returns nil when [recv] returns nil for the given transport.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/2a64aef1a9cb3d225ef7881af85b8ccf95652baf/src/main/clojure/clojure/tools/nrepl/server.clj#L23" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.server/map-&gt;Server">map-&gt;Server</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (map-&gt;Server m#)
</pre>
    <pre id="var-docstr">Factory function for class clojure.tools.nrepl.server.Server, taking a map of keywords to field values.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/2a64aef1a9cb3d225ef7881af85b8ccf95652baf/src/main/clojure/clojure/tools/nrepl/server.clj#L101" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.server/start-server">start-server</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (start-server &amp; {:keys [port bind transport-fn handler ack-port greeting-fn], :or {port 0}})
</pre>
    <pre id="var-docstr">Starts a socket-based nREPL server.  Configuration options include:

  * :port — defaults to 0, which autoselects an open port on localhost
  * :bind — bind address, by default any (0.0.0.0)
  * :handler — the nREPL message handler to use for each incoming connection;
      defaults to the result of `(default-handler)`
  * :transport-fn — a function that, given a java.net.Socket corresponding
      to an incoming connection, will return an value satisfying the
      clojure.tools.nrepl.Transport protocol for that Socket.
  * :ack-port — if specified, the port of an already-running server
      that will be connected to to inform of the new server's port.
      Useful only by Clojure tooling implementations.

  Returns a (map) handle to the server that is started, which may be stopped
  either via `stop-server`, (.close server), or automatically via `with-open`.
  The port that the server is open on is available in the :port slot of the
  server map (useful if the :port option is 0 or was left unspecified.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/2a64aef1a9cb3d225ef7881af85b8ccf95652baf/src/main/clojure/clojure/tools/nrepl/server.clj#L121" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.server/stop-server">stop-server</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (stop-server {:keys [open-transports server-socket], :as server})
</pre>
    <pre id="var-docstr">Stops a server started via `start-server`.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/2a64aef1a9cb3d225ef7881af85b8ccf95652baf/src/main/clojure/clojure/tools/nrepl/server.clj#L53" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.server/unknown-op">unknown-op</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (unknown-op {:keys [op transport], :as msg})
</pre>
    <pre id="var-docstr">Sends an :unknown-op :error for the given message.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/2a64aef1a9cb3d225ef7881af85b8ccf95652baf/src/main/clojure/clojure/tools/nrepl/server.clj#L68" id="var-source">Source</a>
  </div>
</div>
<br />
<h2 id="clojure.tools.nrepl.transport">clojure.tools.nrepl.transport</h2>
<pre id="namespace-docstr"></pre>


<br />
<div id="proto-section">
  <p></p>
  <h2>Protocols</h2>
  <div id="proto-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.transport/Transport">Transport</h2>
    <span id="proto-type">Protocol</span><br />
    <pre id="proto-docstr">Defines the interface for a wire protocol implementation for use
with nREPL.</pre>
    Known implementations: <span id="proto-impls"><a href="#clojure.tools.nrepl.transport/FnTransport">FnTransport</a>, <a href="#clojure.tools.nrepl.transport/QueueTransport">QueueTransport</a></span>
    <div id="proto-var-entry">
      <br />
      <h3 id="clojure.tools.nrepl.transport/recv">recv</h3>
      <span id="var-type">function</span><br />
      <pre id="var-usage">Usage: (recv this)
       (recv this timeout)
</pre>
      <pre id="var-docstr">Reads and returns the next message received.  Will block.
Should return nil the a message is not available after `timeout`
ms or if the underlying channel has been closed.</pre>
      
      
      
    </div><div id="proto-var-entry">
      <br />
      <h3 id="clojure.tools.nrepl.transport/send">send</h3>
      <span id="var-type">function</span><br />
      <pre id="var-usage">Usage: (send this msg)
</pre>
      <pre id="var-docstr">Sends msg. Implementations should return the transport.</pre>
      
      
      
    </div>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/20a3d1508beaa86e784610fdd7d962555b2faafb/src/main/clojure/clojure/tools/nrepl/transport.clj#L16" id="proto-source">Source</a>
  </div>
</div>
<div id="type-section">
  <p></p>
  <h2>Types</h2>
  <div id="type-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.transport/FnTransport">FnTransport</h2>
    <span id="type-type">type</span><br />
    <pre id="type-docstr"></pre>
    Fields: <span id="type-fields">[recv-fn send-fn close]</span><br />
    Protocols: <span id="type-protocols"><a href="#clojure.tools.nrepl.transport/Transport">Transport</a></span><br />
    Interfaces: <span id="type-interfaces">java.io.Closeable</span><br />
  </div><div id="type-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.transport/QueueTransport">QueueTransport</h2>
    <span id="type-type">type</span><br />
    <pre id="type-docstr"></pre>
    Fields: <span id="type-fields">[in out]</span><br />
    Protocols: <span id="type-protocols"><a href="#clojure.tools.nrepl.transport/Transport">Transport</a></span><br />
    Interfaces: <span id="type-interfaces"></span><br />
  </div>
</div>
<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.transport/-&gt;FnTransport">-&gt;FnTransport</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (-&gt;FnTransport recv-fn send-fn close)
</pre>
    <pre id="var-docstr">Positional factory function for class clojure.tools.nrepl.transport.FnTransport.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/20a3d1508beaa86e784610fdd7d962555b2faafb/src/main/clojure/clojure/tools/nrepl/transport.clj#L25" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.transport/-&gt;QueueTransport">-&gt;QueueTransport</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (-&gt;QueueTransport in out)
</pre>
    <pre id="var-docstr">Positional factory function for class clojure.tools.nrepl.transport.QueueTransport.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/20a3d1508beaa86e784610fdd7d962555b2faafb/src/main/clojure/clojure/tools/nrepl/transport.clj#L158" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.transport/bencode">bencode</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (bencode s)
       (bencode in out &amp; [s])
</pre>
    <pre id="var-docstr">Returns a Transport implementation that serializes messages
over the given Socket or InputStream/OutputStream using bencode.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/20a3d1508beaa86e784610fdd7d962555b2faafb/src/main/clojure/clojure/tools/nrepl/transport.clj#L87" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.transport/fn-transport">fn-transport</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (fn-transport read write)
       (fn-transport read write close)
</pre>
    <pre id="var-docstr">Returns a Transport implementation that delegates its functionality
to the 2 or 3 functions provided.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/20a3d1508beaa86e784610fdd7d962555b2faafb/src/main/clojure/clojure/tools/nrepl/transport.clj#L34" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.transport/piped-transports">piped-transports</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (piped-transports)
</pre>
    <pre id="var-docstr">Returns a pair of Transports that read from and write to each other.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/20a3d1508beaa86e784610fdd7d962555b2faafb/src/main/clojure/clojure/tools/nrepl/transport.clj#L164" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.transport/tty">tty</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (tty s)
       (tty in out &amp; [s])
</pre>
    <pre id="var-docstr">Returns a Transport implementation suitable for serving an nREPL backend
via simple in/out readers, as with a tty or telnet connection.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/20a3d1508beaa86e784610fdd7d962555b2faafb/src/main/clojure/clojure/tools/nrepl/transport.clj#L113" id="var-source">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.nrepl.transport/tty-greeting">tty-greeting</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (tty-greeting transport)
</pre>
    <pre id="var-docstr">A greeting fn usable with clojure.tools.nrepl.server/start-server,
meant to be used in conjunction with Transports returned by the
`tty` function.

Usually, Clojure-aware client-side tooling would provide this upon connecting
to the server, but telnet et al. isn't that.</pre>
    
    
    <a href="https://github.com/clojure/tools.nrepl/blob/20a3d1508beaa86e784610fdd7d962555b2faafb/src/main/clojure/clojure/tools/nrepl/transport.clj#L147" id="var-source">Source</a>
  </div>
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div style="text-align: center;" id="copyright">Copyright 2007-2014 by Rich Hickey and the various contributors</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a title="Visit Tom Hickey's website." href="http://www.tomhickey.com">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>